
# Template file for 'zen-browser'
pkgname=zen-browser
version=1.18.4b
revision=1
archs="x86_64"
hostmakedepends="tar xz"
short_desc="Experience tranquility while browsing the internet with Zen!"
maintainer="Kaiwne <lunamc.tonyvn@gmail.com>"
license="MPL-2.0"
homepage="https://zen-browser.app/"
distfiles="https://github.com/zen-browser/desktop/releases/download/${version}/zen.linux-x86_64.tar.xz"
checksum="23ed45c78fbfe9a50ff3d2dd20bb54c681c11305865a75a91ecb527026a53b12"

do_install() {
    install -dm755 \
    "${DESTDIR}/opt/${pkgname}" \
    "${DESTDIR}/usr/bin" \
    "${DESTDIR}/usr/share/applications"

    vinstall \
    "${FILESDIR}/zen.desktop" \
    0644 \
    "usr/share/applications"

    vcopy "*" "opt/${pkgname}"

    ln -sf "/opt/${pkgname}/zen" "${DESTDIR}/usr/bin/zen"

    for size in 16 32 48 64 128; do
        install -d "${DESTDIR}/usr/share/icons/hicolor/${size}x${size}/apps"
        vinstall "browser/chrome/icons/default/default${size}.png" \
        0644 \
        "usr/share/icons/hicolor/${size}x${size}/apps/zen-browser.png"
    done
}
